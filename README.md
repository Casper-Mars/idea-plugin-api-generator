# 文档生成器
## 说明
   生成器基于spring boot和vue。设置好参数后一键生成文档，并打成可运行jar包，只需在命令行中执行java -jar
   api-doc.jar，即可在浏览器中访问:localhost:18080/api-doc
## 使用
  1. 配置参数：
        * 打开File->Setting->Order Settings->api-generator
        * 选择接口文件所在的目录，推荐选择直接的父目录
        * 选择输出的位置目录。注意输出目录必须有写权限
        * 如果有额外的markdown类型的接口文档要引用，则选择该目录，**没有请置空**
        * 基本类型枚举作用详情请参阅：[github](https://github.com/Casper-Mars/idea-plugin-api-generator)
  2. 生成文档：
        * 点击菜单栏的Tools，再点击Generate api doc选择即可生成文档到配置的输出目录
        * 或者直接按快捷键：shift+ctrl+alt+G
   
## 接口解析规则
   * 根据注释解析
   * @param 表示参数，后接参数描述。如果没有注释指定，则直接取方法的入参。例子：@param name 姓名
   * @return 表示返回值，后接返回值类型全称。如果没有注释指定，则直接取方法的回参。例子：@return java.lang.String
   * 集合类型只支持数组
   * 对于基本类（jdk自带的）和部分不需要解析的第三方类需要在设置界面设置好，设置格式为类名之间逗号隔开。例子：Boolean,Integer
   * 注意：一定要规范好基本类的设置，避免出现深度解析卡死线程
   * 注意：接口的入参和回参如果是实体类，应该注意避免出现自引用的情况，目前的版本是忽略自引用的属性
## 例子
     /**
     * 添加
     * @param info 信息
     * @return java.lang.String[]
     */
     @PostMapping("/add")
     public List<String> hello(@RequestBody InfoDTO info){
     }
如上例子会解析出接口：
  * 名称：hello
  * 描述：添加
  * 请求方式：POST
  * 参数：
       * 名称：info
       * 描述：信息
       * 请求类型：body
       * 参数格式：json
  * 返回值：
       * 类型：String
       * 格式：array

## 模式：debug和生产
  * debug模式：在此模式下，会保留程序运行过程中的临时文件，包括java源文件、class文件、依赖jar包和容器jar包。debug模式只有开发时才能用，一旦部署后就是生产模式了。
  * 生产模式：在此模式下，只会保留最终的产物
  
## 关于基本类型枚举的解析

   大多数情况下，我们自己定义的接口的参数（包括入参和回参）或多或少都会用到实体类（一般称为DTO），或许实体类是自己定义的，但也不排除会用第三方包中的实体类。基本类型枚举的作用就是指出第三方包的实体类，把第三方包的实体类当做是基本类就不会进行解析。否则会把第三方包的实体类也解析出源文件。
   所以，正常情况下，只会对自定义的实体类进行解析生成源文件。之所以要解析实体类成源文件，是因为编译有依赖到实体类的接口时需要实体类的源文件一同编译，才能解决依赖问题。
   因此，请正确地指定用到的第三方包的实体类。如果没有指定，某些情况下会出现深度解析甚至死循环。